\documentclass{jsarticle}
\usepackage{diagbox}
\usepackage[dvipdfmx]{graphicx}
\usepackage[T1]{fontenc}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{mathtools}
\usepackage{siunitx}
\usepackage{graphics}
\usepackage{enumerate}
\usepackage{here}
\usepackage{multirow}
\usepackage{ulem}
\usepackage{dcolumn}
\usepackage{cases}
\usepackage{textcomp}
\usepackage{siunitx}
\usepackage{here}
\usepackage{float}
\usepackage{array}
\usepackage{multirow}
\usepackage{listings}
\usepackage{url}


\lstset{
    breaklines=true,
    frame=single,
    numbers=left,
    tabsize=2,
    basicstyle=\ttfamily\footnotesize
}

\makeatletter
\@addtoreset{equation}{section}
\def\theequation{\thesection.\arabic{equation}}
\makeatother

\makeatletter % プリアンブルで定義開始

% 表示文字列を"図"から"Figure"へ
\renewcommand{\figurename}{図}

% 図番号を"<章番号>.<図番号>" へ
\renewcommand{\thefigure}{\thesection.\arabic{figure}}

% 章が進むごとに図番号をリセットする
\@addtoreset{figure}{section}

\makeatother % プリアンブルで定義終了

\makeatletter % プリアンブルで定義開始

% 表示文字列を"表"から"Figure"へ
\renewcommand{\tablename}{表}
% 図番号を"<章番号>.<表番号>" へ
\renewcommand{\thetable}{\thesection.\arabic{table}}

% 章が進むごとに表番号をリセットする
\@addtoreset{table}{section}

\makeatother % プリアンブルで定義終了

\makeatletter
	\AtBeginDocument{% リスト番号の付け方
    \renewcommand*{\thelstlisting}{\arabic{section}.\arabic{lstlisting}}
    \renewcommand{\lstlistingname}{コード}
	\@addtoreset{lstlisting}{section}}
\makeatother
\begin{document}

\section{目的}

\section{原理}

\section{実験}
\subsection{ファイルから書き込み実習}

    \begin{lstlisting}[caption=ファイルから書き込み実習\label{c1}]

    \end{lstlisting}
\end{document}
